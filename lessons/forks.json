[
  {
    "id": "fork_001",
    "title": "Knight Fork – Win the Queen",
    "type": "puzzle",
    "fen": "2k5/2q5/4N3/8/8/8/6K1/8 w - - 0 1",
    "sideToMove": "w",
    "goal": "Find the forcing knight fork that wins the queen.",
    "hint": "Look for a checking knight move that also attacks the queen.",
    "tips": [
      "Checks are forcing moves.",
      "Knight forks often target king and queen together."
    ],
    "constraints": {
      "userSide": "w",
      "lockOtherSide": true,
      "restrictFromSquares": ["e6"],
      "restrictPieceTypes": ["N"],
      "enforceOnlyAllowedMoves": true
    },
    "solution": {
      "moves": ["e6c7"],
      "san": ["Nc7+"],
      "explanation": [
        "Nc7+ checks the king and attacks the queen at the same time.",
        "After the king responds, White can capture the queen."
      ]
    },
    "responses": [
      {
        "ifUserMove": "e6c7",
        "message": "Correct! This is the classic knight fork."
      },
      {
        "ifUserMove": "*",
        "message": "Not quite. Search for a checking knight jump that hits the queen."
      }
    ]
  },
  {
    "id": "fork_002",
    "title": "Queen Fork – Check and Win the Rook",
    "type": "puzzle",
    "fen": "6kr/8/8/8/3Q4/8/6K1/8 w - - 0 1",
    "sideToMove": "w",
    "goal": "Use a queen check that also attacks a major piece.",
    "hint": "Look for a queen move to the 8th rank.",
    "tips": [
      "A queen fork is strongest when one target is the king.",
      "Scan ranks and diagonals for double attacks."
    ],
    "constraints": {
      "userSide": "w",
      "lockOtherSide": true,
      "restrictFromSquares": ["d4"],
      "restrictPieceTypes": ["Q"],
      "enforceOnlyAllowedMoves": true
    },
    "solution": {
      "moves": ["d4d8"],
      "san": ["Qd8+"],
      "explanation": [
        "Qd8+ checks the king on g8 while also attacking the rook on h8.",
        "After Black responds, White can win the rook."
      ]
    },
    "responses": [
      {
        "ifUserMove": "d4d8",
        "message": "Excellent. You found the queen fork."
      },
      {
        "ifUserMove": "*",
        "message": "Try a forcing queen check from d4."
      }
    ]
  },
  {
    "id": "fork_003",
    "title": "Pawn Fork – King and Rook",
    "type": "puzzle",
    "fen": "8/5r1k/8/6P1/8/8/6K1/8 w - - 0 1",
    "sideToMove": "w",
    "goal": "Advance the pawn to fork two higher-value pieces.",
    "hint": "Push the pawn with check.",
    "tips": [
      "Pawn forks are easy to miss because pawns move slowly.",
      "A checking pawn push can create immediate tactical threats."
    ],
    "constraints": {
      "userSide": "w",
      "lockOtherSide": true,
      "restrictFromSquares": ["g5"],
      "restrictPieceTypes": ["P"],
      "enforceOnlyAllowedMoves": true
    },
    "solution": {
      "moves": ["g5g6"],
      "san": ["g6+"],
      "explanation": [
        "g6+ checks the king on h7 and attacks the rook on f7.",
        "After the king moves, White can usually win the rook."
      ]
    },
    "responses": [
      {
        "ifUserMove": "g5g6",
        "message": "Great find — that pawn fork is very strong."
      },
      {
        "ifUserMove": "*",
        "message": "Look for a pawn push from g5 that gives check."
      }
    ]
  },
  {
    "id": "discovered_001",
    "title": "Discovered Attack",
    "type": "demo",
    "fen": "4k3/8/8/8/8/8/4N3/4R1qK w - - 0 1",
    "sideToMove": "w",
    "goal": "Move the knight to discover a rook attack on the queen.",
    "hint": "Any legal knight move from e2 opens the rook's line to g1.",
    "tips": [
      "A discovered attack happens when one piece moves and reveals another attack.",
      "You can gain tempo if the discovered line also gives check."
    ],
    "constraints": {
      "userSide": "w",
      "lockOtherSide": true,
      "restrictFromSquares": ["e2"],
      "restrictPieceTypes": ["N"],
      "enforceOnlyAllowedMoves": false
    },
    "solution": {
      "moves": ["e2c3"],
      "san": ["Nc3"],
      "explanation": [
        "Moving the knight opens the rook's path from e1 to g1.",
        "Black's queen becomes exposed to capture threats."
      ]
    },
    "responses": [
      {
        "ifUserMove": "*",
        "message": "Nice exploration. Notice how the rook line changes after the knight moves."
      }
    ]
  },
  {
    "id": "double_attack_001",
    "title": "Double Attack with Tempo",
    "type": "demo",
    "fen": "6k1/8/8/8/3Q4/8/6K1/6r1 w - - 0 1",
    "sideToMove": "w",
    "goal": "Play a checking move that also creates a second threat.",
    "hint": "Use the queen to check from the back rank.",
    "tips": [
      "The best tactical moves combine multiple threats.",
      "A check often gives enough tempo to cash in material."
    ],
    "constraints": {
      "userSide": "w",
      "lockOtherSide": true,
      "restrictFromSquares": ["d4"],
      "restrictPieceTypes": ["Q"],
      "enforceOnlyAllowedMoves": false
    },
    "solution": {
      "moves": ["d4d8"],
      "san": ["Qd8+"],
      "explanation": [
        "Qd8+ is a forcing check and improves queen activity.",
        "Always ask whether your check can also attack a second target."
      ]
    },
    "responses": [
      {
        "ifUserMove": "*",
        "message": "Good try. In tactical positions, compare forcing checks first."
      }
    ]
  }
]
